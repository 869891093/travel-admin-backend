# 微信云开发Git部署配置

## 当前配置状态

### ✅ 已正确配置
- 仓库类型: github (已授权)
- 仓库地址: 869891093/travel-admin-backend
- 仓库分支: main
- 启用自动部署: ✅ 已开启
- 部署类型: 容器型服务
- Dockerfile名称: Dockerfile
- 公网访问: ✅ 已开启
- 实例控制模式: 自动启停实例

### ⚠️ 需要修改的配置

#### 1. 服务名称
**当前**: 空
**建议填写**: `travel-admin-backend`
**规则**: 只能包含数字、小写字母和连字符，必须以小写字母开头，最多39个字符

#### 2. 端口
**当前**: 80
**建议修改为**: `3000`
**原因**: 您的server.js监听3000端口

#### 3. 环境变量 (建议添加)
```
NODE_ENV=production
PORT=3000
```

## 部署步骤

1. **修改端口配置**
   - 将端口从80改为3000

2. **填写服务名称**
   - 填写: `travel-admin-backend`

3. **添加环境变量**
   - 点击"+ 添加"
   - 添加: `NODE_ENV` = `production`
   - 添加: `PORT` = `3000`

4. **点击部署**
   - 确认所有配置无误后点击部署按钮

## 部署后访问

部署成功后，您将获得一个公网访问地址，格式类似：
`https://your-service-name.weixin.qq.com`

## 注意事项

1. **首次部署可能需要几分钟时间**
2. **确保Dockerfile配置正确**
3. **检查环境变量是否正确设置**
4. **部署后可以通过公网地址访问管理后台**

## 故障排除

如果部署失败，请检查：
1. Dockerfile语法是否正确
2. 端口配置是否与代码一致
3. 环境变量是否正确设置
4. 网络连接是否正常 